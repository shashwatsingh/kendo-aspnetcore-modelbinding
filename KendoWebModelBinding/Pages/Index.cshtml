@page
@{
    ViewData["Title"] = "Home page";
    const string KendoVersion = 
        "2023.3.1010";  
        // "2024.3.806";

    const string KendoThemeVersion = 
        "7.0.1"; 
        // "9.0.0";

    var apiUrl = @Url.RouteUrl(routeName: "api.companies");
}

<section>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.kendostatic.com/themes/@(KendoThemeVersion)/bootstrap/bootstrap-main.css" />
    <link rel="stylesheet" href="https://unpkg.com/@@progress/kendo-font-icons/dist/index.css" />

    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />


    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha384-1H217gwSVyLSIfaLxHbE7dRb3v4mYCKbpQvzx0cegeju1MVsGrX5xXxAvs/HgeFs" crossorigin="anonymous"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

    <script src="https://unpkg.com/jszip/dist/jszip.min.js" integrity="sha384-+mbV2IY1Zk/X1p/nWllGySJSUN8uMs+gUAN10Or95UBH0fpj6GfKgPmgC5EXieXG" crossorigin="anonymous"></script>
    <script src="https://cdn.kendostatic.com/@(KendoVersion)/js/kendo.all.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.kendostatic.com/@(KendoVersion)/js/kendo.aspnetmvc.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.kendostatic.com/@(KendoVersion)/js/kendo.timezones.min.js" crossorigin="anonymous"></script>

    <script src="~/js/kendo.aspnetmvc-custom-transport.js" asp-append-version="true"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    <pre>URL: @apiUrl</pre>

    <div id="grid"></div>

    <script type="text/javascript">
        'use strict';   

        $("#grid").kendoGrid({
            dataSource: {
                // type: 'custom-webapi',
                type: 'webapi',
                transport: {
                    read: '@apiUrl'
                },
                schema: {
                    data: "data",
                    total: "total",
                },
                pageSize: 5,
                serverPaging: true,
                serverFiltering: true,
                serverSorting: true,
            },
            pageable: true,
            sortable: true,
            filterable: true,
            groupable: true,
            noRecords: true,
        });
    </script>
</section>